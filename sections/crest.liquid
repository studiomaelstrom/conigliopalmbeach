{% schema %}
  {
    "name": "Crest",
    "settings": [],
    "presets":[
    {
      "name":"Crest",
      "category":"Overlay"
    }
  ]
  }
{% endschema %}

<script>
  let idleTimer = null;
  let idleState = false;
  
  function showCrest(time) {
    clearTimeout(idleTimer);
    if (idleState == true) {
      $("#crest-box").addClass("inactive");
    }
    idleState = false;
    idleTimer = setTimeout(function() {
      $("#crest-box").removeClass("inactive");
      idleState = true;
    }, time);
  }
  
  showCrest(2000);
  
  $(window).mousemove(function(){
      showCrest(2000);
  });
</script> 

    <style>
      #crest-box {
        transition: opacity 0.6s ease-out;
      }
      .inactive {
        display:none;
      }
      .overlay{
        background-color: rgba(255, 238, 238, 0.3);
        backdrop-filter: blur(4px);
        position: absolute;
        width: 100%;
        z-index: 400;
        height: 100%;
        top: 0px;
        animation: fadeIn 0.5s both ease-in; 
      }
      @keyframes fadeIn {
         from    { opacity: 0; }
         to      { opacity: 1; }
      }
      .crest{
        display:inline-block;
        width:100%;
        height:100%;
        margin:auto;
        text-align:center;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
      }
      
    </style>

    <div id="crest-box" class="inactive">
      <div class="overlay">
      <div class="crest">
      <img src="https://i.imgur.com/lDqkfH2.gif">
      </div>
      </div>
    </div>