{% schema %}
{
  "name": "Hotspot Image",
  "settings": [
    {
    "type": "text",
    "id": "image",
    "label": "Image File URL"
  },
    {
    "type": "color",
    "id": "hotspot_color",
    "label": "Hotspot Color",
    "default": "#F47722"
  }
  ],
  "presets": [
  {
    "name": "Hotspot Image",
    "category": "Image with hotspot"
  }
]
}
{% endschema %}

{%- style -%}
  .section-{{ section.id }}-padding {
    padding-top: calc({{ section.settings.padding_top }}px * 0.75);
    padding-bottom: calc({{ section.settings.padding_bottom }}px  * 0.75);
  }

  @media screen and (min-width: 750px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }

  .hotspots--wrapper {
    position: relative;
    margin: auto;
  }

  .hotspots--figure {
    width: 100%;
  }

  .hotspot {
    position: absolute;
    display: block;
  }

  .hotspot--cta {
    position: relative;
    float: right;
    display: inline-block;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    background: {{section.settings.hotspot_color}};
    transition: all cubic-bezier(0.8, 0, 0.2, 1) 0.4s;
  }

  .hotspot--cta::after {
    content: "";
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    right: 0;
    margin: auto;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: #31210E;
    z-index: 2;
    transition: opacity 0.6s;
    animation: pulse 1.5s cubic-bezier(0.8, 0, 0.2, 1) 0s infinite;
  }

  .hotspot:hover .hotspot--cta {
    transform: scale(0.6);
  }

  .hotspot:hover .hotspot--cta:after {
    opacity: 0;
  }

  @keyframes pulse {
    0% {
      transform: scale(0.4);
    }
    33% {
      transform: scale(1);
    }
    66% {
      transform: scale(0.4);
    }
    100% {
      transform: scale(0.4);
    }
  }

  .hotspot--iphone {
    top: 62%;
    right: 68%;
  }

  .hotspot--macbook {
    top: 22%;
    right: 48%;
  }

  .hotspot--watch {
    top: 72%;
    left: 45%;
  }

  @media screen and (max-width: 420px) {
    .hotspot--cta {
      width: 20px;
      height: 20px;
    }
    .hotspot--cta::after {
      width: 5px;
      height: 5px;
    }
  }
{%- endstyle -%}

<div class="section-{{ section.id }}-padding gradient color-{{ section.settings.section_color_scheme }}">
  <div class="page-width">
    <section class="hotspots--wrapper">
      <img
        src="{{ section.settings.image }}"
        alt="Shop Coniglio Palm Beach"
        class="hotspots--figure"
      >
      <a class="hotspot hotspot--iphone" href="#">
        <span class="hotspot--cta"></span>
      </a>
      <a class="hotspot hotspot--macbook" href="#">
        <span class="hotspot--cta"></span>
      </a>
      <a class="hotspot hotspot--watch" href="#">
        <span class="hotspot--cta"></span>
      </a>
    </section>
  </div>
</div>
